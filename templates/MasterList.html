{% from '_formhelpers.html' import render_field %} {# import neede for chard range forms #}

{% extends 'layout.html' %} {# Inherits format from layout.html #}


{% block title %} {# Overides layout.html default title #}
    <title>Master List</title> {# Title - shown in tab on browser #}
{% endblock title %}

{% block content %}

    <div class="row mt-3 text-center"> {# Page header #}
        <div class="col-12 ml-auto p-3 mb-2 bg-secondary text-white">
            <h1>Server System Monitoring Tool</h1>
        </div>
    </div>

    <div class="mt-3 text-center"> {# Home button & MasterList #}
        <div class="row card-body border border-dark font-weight-bold">
            <div class="text-left">
                <a class="btn btn-secondary btn-lg"  href="/" role="button">Home</a>
            </div>
            <div class="col-10">
                <h2 class="text-center">Master List</h2>
            </div>
        </div>
    </div>

    <div class="row mt-3 text-center"> {# Master List table #}

        <div class="col-12 ">
            <table class="table table-bordered  table-secondary ">
                <thead>
                <tr>
                    <th scope="col"></th>
                    <th scope="col">Type</th>
                    <th scope="col">ID</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    {% for m in mList %}
                        <td scope="row">
                            <button type="button" class="btn btn-danger btn-sm m-1" data-toggle="modal"
                                    data-target="#{{ m.Type | safe }}{{ m.Name | safe }}">Delete
                            </button>


                            {#                            <input class="form-check-input position-static" type="checkbox" id="blankCheckbox"#}
                            {#                                   value="option1" aria-label="...">#}
                            {#                        </div>#}


                        </td>
                        <td>{{ m.Type }}</td>
                        <td>{{ m.Name }}</td>
                        </tr>
                    {% endfor %}

                <tr class="table-light">
                    <td scope="row"></td>
                    <form method="post">
                        <td>
                            <div class="input-group"> {# Server Type dropdown #}
                                {{ form.csrf_token }}

                                {{ render_field(form.type) }}


                                {#                            <select class="custom-select" id="inputGroupSelect04"#}
                                {#                                    aria-label="Example select with button addon">#}
                                {#                                <option selected>Choose Server Type</option>#}
                                {#                                <option value="1">Database</option>#}
                                {#                                <option value="2">File</option>#}
                                {#                                <option value="3">Logging</option>#}
                                {#                                <option value="3">Node</option>#}
                                {#                                <option value="3">Page</option>#}
                                {#                                <option value="3">Scanning</option>#}
                                {#                                <option value="3">Web</option>#}
                                {#                            </select>#}
                            </div>
                        </td>
                        <td class="table-active">
                            {#                        <form method="post">#}
                            {#                            {{ form.csrf_token }}#}
                            <div class="input-group mb-3"> {# Text Box Input #}
                                {{ render_field(form.name) }}
                                {{ render_field(form.add) }}
                                {#                                <input type="submit" value="submit"> {# Add button#}

                                {#                            <input type="text" class="form-control"#}
                                {#                                   aria-label="Text input with segmented dropdown button">#}
                            </div>
                    </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    {#    <div class="row mt-3 text-center"> {# Add Delete Buttons #}
    {#        <div class="col-09">#}
    {#            <form method="post">#}
    {#                <input type="submit" name="Delete" value="Delete">{# Delete Button #}
    {#            </form>#}
    {#        </div>#}
    {#        <div class="col-11 ml-auto">#}
    {##}
    {#            <a class="btn btn-success btn-lg float-md-right" href="#" role="button">Add</a> {# Add button #}
    {#        </div>#}
    {#    </div>#}

    {% for m in mList %}
        <div class="modal fade" id="{{ m.Type | safe }}{{ m.Name | safe }}" tabindex="-1" role="dialog"
             aria-labelledby="deleteModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel">Are you sure you want to
                            DELETE {{ m.Type }}-{{ m.Name }}?</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close
                        </button>
                        <form action="{{ url_for('deleteServer', mlType=m.Type, mlName=m.Name) }}"
                              method="POST">
                            <input class="btn btn-danger" type="submit" value="Delete">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
{% endblock content %}

<!--
<div class = "row mt-3 text-center">
         <div class="col-2">
            <a class="btn btn-secondary btn-lg" href="#" role="button">Home</a>
        </div>
        <div class="col-10 ml-auto">
           <div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle float-md-right" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Server Type
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item text-center" href="#">All</a>
    <a class="dropdown-item text-center" href="#">Database</a>
    <a class="dropdown-item text-center" href="#">File</a>
    <a class="dropdown-item text-center" href="#">License</a>
    <a class="dropdown-item text-center" href="#">Logging</a>
    <a class="dropdown-item text-center" href="#">Node</a>
    <a class="dropdown-item text-center" href="#">Page</a>
    <a class="dropdown-item text-center" href="#">Scanning</a>
    <a class="dropdown-item text-center" href="#">Web</a>
  </div>
</div>
        </div>

</div>-->